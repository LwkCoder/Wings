apply plugin: 'com.android.library'

def cfg = rootProject.ext.android
def libraries = rootProject.ext.baseLibsDependencies
def debugTools = rootProject.ext.baseLibsDebugTools

android {
    compileSdkVersion cfg.compileSdkVersion
    buildToolsVersion cfg.buildToolsVersion
    publishNonDefault true

    defaultConfig {
        minSdkVersion cfg.minSdkVersion
        targetSdkVersion cfg.targetSdkVersion
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_7
        targetCompatibility JavaVersion.VERSION_1_7
    }
}

dependencies {
    compile fileTree(include: ['*.jar'], dir: 'libs')
    /*依赖库*/
    libraries.each {
        entry ->
            compile(entry.key) {
                entry.value.each {
                    childEntry ->
                        exclude(group: childEntry.key, module: childEntry.value)
                }
            }
    }
    /*Debug工具库*/
    debugTools.each { k, v -> debugCompile v }
}
